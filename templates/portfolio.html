
{% extends 'base.html' %}

{% block content %}
<div class="content">
    

    <div class="d-flex justify-content-center">
        <h1>My Portfolio and Blog</h1>
    </div>

    <br/>
    <br/>

{% for post in posts %}

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <button class="card-button" onclick="location.href='{{url_for('post_page', id=post.id)}}'">
                        <div class="card-content">

                            <h2>{{ post.title }}</h2>
                            <h6>By: {{ post.poster.name }}</h6>
                            <h6>Posted on: {{ post.date_posted.strftime("%d/%b/%Y, %I:%M:%S %p") }}</h6><br/>
                            <i><p>{{ post.slug }}</p></i>
                             
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

  
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">

                {% if post.poster_id == current_user.id %}
                <button class="btn btn-secondary" onclick="location.href='{{url_for('edit_post', id=post.id)}}'">Edit Post</button>
                <button class="btn btn-danger" onclick="location.href='{{url_for('delete_post', id=post.id)}}'">Delete Post</button>
                
                {% endif %}
                
                

            </div>
        </div>
    </div>

    <br/>

{% endfor %}

<footer class="footer">
    <div class="container">
        <p>
            &copy; 2023 erichesterdev.com | Contact: <a href="{{ url_for('contact') }}">click here</a>
            
        </p>
    </div>
</footer>

{% endblock %}
</div>